name: Deploy React App to HostGator

on:
  push:
    branches:
      - main 

jobs:
  build-and-package:
    name: Build & Package Artifact
    runs-on: ubuntu-latest
    steps:
      - name: ğŸšš Get latest code
        uses: actions/checkout@v4

      - name: âš™ï¸ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20' 

      - name: ğŸ“¦ Install dependencies
        run: npm install

      - name: ğŸ— Build Project
        run: npm run build 
        
      # ğŸ’¥ FINAL STEP: Save the build output as a downloadable artifact
      - name: ğŸ’¾ Upload Build Artifact
        uses: actions/upload-artifact@v4
        with:
          name: jesusrevivalfans-website-build
          # The local directory containing the final website files
          path: ./out/ 
          # The retention period (optional)
          retention-days: 7